<app-navbar></app-navbar>
<div class="container-fluid page-body-wrapper">
    <app-sidebar></app-sidebar>
    <div class="content-wrapper">
        <div class="table-responsive">
          <!-- <button class="btn btn-inverse-success btn-fw" (click)="createDialog()">Create New</button> -->
            <table class="table">
              <thead>
                <tr>
                  <th>Full Name</th>
                  <th>Image </th>
                  <th>Feedback</th>
                  <th>status</th>
                  <th>Operation</th>

                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let obj of AdminService.testimonial">
                  <td>{{obj.name}}</td>
                  <td><img src="../../../assets/images/testimonial/{{obj.imagepath}}" alt="" style="width: 200px; height:200px;"></td>
                  <td>{{obj.feedback}}</td>
                  <td>{{obj.status}}</td>

                  <td>
                    <div class="btn-group" role="group" aria-label="Basic example">
                      <button type="button" class="btn btn-inverse-info btn-fw" (click)="updateDialog(obj)">Update</button>
                      <button type="button" class="btn btn-inverse-danger btn-fw" (click)="deleteDialog(obj.id)">Delete</button>
                    </div>
                  </td>
                </tr>
             
           
              </tbody>
            </table>
          </div>

          <ng-template #callUpdateDialog>

              <form class="example-form" [formGroup]="updateTestimonialForm" >
               <!-- <mat-form-field class="example-full-width" appearance="fill">
                 <mat-label>Testimonial Status</mat-label>
                 <input type="number" matInput formControlName="statusid"[(ngModel)]="previousData.STATUSID">
                 <mat-error *ngIf="updateTestimonialForm.controls['statusid'].hasError('required')">
                  bus Number <strong>required</strong>
                </mat-error>
               </mat-form-field> -->
                   <label for="" class="my-1" >Testimonial Status</label>
               <select class="form-control" (change)="DetectChanges($event)" > 
                <option disabled selected hidden>{{AdminService.selectedTestimonialStatus.status}}</option> 
                <option value="{{item.id}}" *ngFor="let item of AdminService.testimonialStatus" >{{item.status}}</option>
              </select> 
            

          
          
               </form >
           <mat-dialog-actions align="end">
            <div class="btn-group" role="group" aria-label="Basic example">

             <button class="btn btn-inverse-danger btn-fw" mat-button mat-dialog-close>Cancel</button>
             <button class="btn btn-inverse-success btn-fw" mat-button [mat-dialog-close]="true" cdkFocusInitial (click)="updateTestimonial()" >Update</button>
           </div>
            </mat-dialog-actions>
          </ng-template>

          <ng-template #callDeleteDialog>
            <h2>Are You Sure You Want To delete this Testimonial ?</h2>
            <div class="btn-group" role="group" aria-label="Basic example">
              <button class="btn btn-inverse-success btn-fw" mat-dialog-close="Yes" >Yes</button>
              <button class="btn btn-inverse-danger btn-fw" mat-dialog-close="No" >No</button>
            </div>
           

          </ng-template>
         
    
        
        </div>
    </div>
